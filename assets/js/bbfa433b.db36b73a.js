"use strict";(self.webpackChunkrescript_material_ui_documentation=self.webpackChunkrescript_material_ui_documentation||[]).push([[476],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,h=u["".concat(l,".").concat(d)]||u[d]||m[d]||i;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3585:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return m}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={title:"Styles PPX (not recommended)"},l=void 0,p={unversionedId:"styling/styles-ppx",id:"styling/styles-ppx",title:"Styles PPX (not recommended)",description:"The PPX is not recommended anymore for the following reasons:",source:"@site/docs/styling/styles-ppx.md",sourceDirName:"styling",slug:"/styling/styles-ppx",permalink:"/docs/styling/styles-ppx",tags:[],version:"current",frontMatter:{title:"Styles PPX (not recommended)"},sidebar:"docs",previous:{title:"bs-css",permalink:"/docs/styling/bs-css"},next:{title:"Introduction",permalink:"/docs/lab/introduction"}},c={},m=[{value:"Installation",id:"installation",level:2},{value:"What is a PPX?",id:"what-is-a-ppx",level:2},{value:"Why do we need one for rescript-material-ui?",id:"why-do-we-need-one-for-rescript-material-ui",level:2},{value:"Usage",id:"usage",level:2},{value:"Simple example",id:"simple-example",level:3},{value:"Working with a theme",id:"working-with-a-theme",level:3}],u={toc:m};function d(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The PPX is not recommended anymore for the following reasons:"),(0,i.kt)("ol",{parentName:"div"},(0,i.kt)("li",{parentName:"ol"},"We don't use it in our codebase and cannot thoroughly test it."),(0,i.kt)("li",{parentName:"ol"},"We will deprecate it as soon as it would take a significant amount of work\nhours to keep it alive."),(0,i.kt)("li",{parentName:"ol"},"The ReScript team recommends to use as few PPXes as possible in your\ncodebase.")))),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"First, add it to your dependencies using ",(0,i.kt)("inlineCode",{parentName:"p"},"npm")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add rescript-material-ui-ppx\n# or\nnpm install rescript-material-ui-ppx\n")),(0,i.kt)("p",null,"Second, add it to ",(0,i.kt)("inlineCode",{parentName:"p"},"ppx-flags")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},"bsconfig.json"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "ppx-flags": ["rescript-material-ui-ppx/ppx"]\n}\n')),(0,i.kt)("p",null,"In some cases, depending on your project structure and build process, you might\nhave to reference the path directly:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "ppx-flags": ["./node_modules/rescript-material-ui-ppx/ppx"]\n}\n')),(0,i.kt)("h2",{id:"what-is-a-ppx"},"What is a PPX?"),(0,i.kt)("p",null,"PPX stands for ",(0,i.kt)("strong",{parentName:"p"},"Pre Processor eXtension"),". There is a fairly detailed article\nby ",(0,i.kt)("a",{parentName:"p",href:"https://twitter.com/dylanirlbeck"},"@dylanirlbeck")," that I'd recommed if you're\ninterested in the nuts and bolts of these extensions:\n",(0,i.kt)("a",{parentName:"p",href:"https://dev.to/dylanirlbeck/intro-to-ppxs-for-reason-newcomers-2829"},"Link to the article"),"."),(0,i.kt)("h2",{id:"why-do-we-need-one-for-rescript-material-ui"},"Why do we need one for rescript-material-ui?"),(0,i.kt)("p",null,"When you create some\n",(0,i.kt)("a",{parentName:"p",href:"https://material-ui.com/guides/typescript/#usage-of-withstyles"},"styles in MaterialUi"),",\nyou pass an object to the ",(0,i.kt)("inlineCode",{parentName:"p"},"withStyles")," function that returns another object with\nthe same keys that contains the class names as values."),(0,i.kt)("p",null,"While this is easily representable in Typescript for example, there is no\nstraight forward way to do this in ",(0,i.kt)("inlineCode",{parentName:"p"},"ReScript"),". This is where the PPX comes in."),(0,i.kt)("p",null,"You pass an object in and it automatically generates all needed types and\nfunction applications for you. This keeps the tedious and quite verbose work\nfrom you while staying completely type safe when accessing the generated class\nnames."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"The extension is used by defining a module and passing ",(0,i.kt)("inlineCode",{parentName:"p"},"%makeStyles()")," as the\nmodule body. Think of ",(0,i.kt)("inlineCode",{parentName:"p"},"%makeStyles()")," as a function, that accepts either"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"a record with all fields of type ",(0,i.kt)("inlineCode",{parentName:"li"},"ReactDOM.Style.t")),(0,i.kt)("li",{parentName:"ul"},"a function with a theme argument that returns above record")),(0,i.kt)("p",null,"The resulting module contains a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"useStyles()")," which you can use\nas a hook inside of your ",(0,i.kt)("inlineCode",{parentName:"p"},"React")," component. That hook will return all record\nkeys with class names as their values."),(0,i.kt)("h3",{id:"simple-example"},"Simple example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rescript"},'module Styles = %makeStyles({\n  root: ReactDOM.Style.make(~padding="20px", ()),\n  inner: ReactDOM.Style.make(~lineHeight="1.3em", ()),\n})\n\n@react.component\nlet make = () => {\n  let classes = Styles.useStyles()\n\n  <div className=classes.root>\n    <div className=classes.inner>\n      {"Content"->React.string}\n    </div>\n  </div>\n}\n')),(0,i.kt)("h3",{id:"working-with-a-theme"},"Working with a theme"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rescript"},'module Styles = %makeStyles(\n  theme => {\n    root: ReactDOM.Style.make(~padding=`${theme.spacing(3)->string_of_int}px`, ()),\n    inner: ReactDOM.Style.make(~color=theme.palette.primary.main, ()),\n  }\n)\n\n@react.component\nlet make = () => {\n  let classes = Styles.useStyles()\n\n  <div className=classes.root>\n    <div className=classes.inner>\n      {"Content"->React.string}\n    </div>\n  </div>\n}\n')))}d.isMDXComponent=!0}}]);